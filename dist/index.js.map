{"version":3,"file":"index.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAe,MAAID,IAEnBD,EAAY,MAAIC,IARlB,CASGK,MAAM,WACT,O,wBCTA,IAAIC,EAAsB,CCA1BA,EAAwB,SAASL,EAASM,GACzC,IAAI,IAAIC,KAAOD,EACXD,EAAoBG,EAAEF,EAAYC,KAASF,EAAoBG,EAAER,EAASO,IAC5EE,OAAOC,eAAeV,EAASO,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3EF,EAAwB,SAASQ,EAAKC,GAAQ,OAAOL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,ICC/FT,EAAwB,SAASL,GACX,oBAAXkB,QAA0BA,OAAOC,aAC1CV,OAAOC,eAAeV,EAASkB,OAAOC,YAAa,CAAEC,MAAO,WAE7DX,OAAOC,eAAeV,EAAS,aAAc,CAAEoB,OAAO,M,0PCWhD,MAAMC,EAAY,CAACC,EAAiCC,KACzD,QAAaC,IAATF,EACF,OAAO,KAET,MAAMG,EAASF,GAAW,0BAC1B,IAAIG,EACgB,iBAATJ,EACTI,EAAOJ,GAEa,iBAATA,GAAqB,WAAWK,KAAKL,KAC9CA,EAAOM,SAASN,IAEE,iBAATA,GAAgD,KAA3BA,EAAKO,WAAWC,SAC9CR,GAAc,KAEhBI,EAAO,IAAIK,KAAKT,IAElB,MAAMU,EAAuC,CAC3CC,EAAGP,EAAKQ,cACRC,EAAGT,EAAKU,WAAa,EACrBC,EAAGX,EAAKY,UACRC,EAAGb,EAAKc,WACRC,EAAGf,EAAKgB,aACRC,EAAGjB,EAAKkB,aACRC,EAAGnB,EAAKoB,UAUV,OARgBrB,EAAOsB,QAAQ,mBAAmB,CAACC,EAAQzC,KACzD,MAAMa,EAAQY,EAAUzB,GAExB,MAAY,MAARA,EACK,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAKa,GAEtCA,EAAMS,WAAWoB,SAAS,EAAG,SCpCjC,MAAMC,EACHC,QACAC,UACRC,YAAYF,EAA6BC,EAAoB,IAC3DE,KAAKH,QAAUA,EACfG,KAAKF,UAAYA,EAGXG,OAAOhD,GACb,MAAO,GAAG+C,KAAKF,YAAY7C,IAAMiD,cASnCC,IAAIlD,EAAaa,EAAYsC,EAAwBC,QACnD,MAAMC,EAAaC,KAAKC,UAAU,CAChC1C,MAAAA,EACAsC,OAAmB,OAAXA,GAAkB,IAAI3B,MAAOgC,UAAqB,IAATL,EAAgB,OAEnEJ,KAAKH,QAAQa,QAAQV,KAAKC,OAAOhD,GAAMqD,GAQzChD,IAAIL,EAAa0D,EAAW,MAC1B,MAAMC,EAAOZ,KAAKH,QAAQgB,QAAQb,KAAKC,OAAOhD,IAC9C,GAAI2D,EACF,IACE,MAAME,EAAOP,KAAKQ,MAAMH,IAClB,MAAE9C,EAAK,OAAEsC,GAAWU,EAE1B,GAAe,OAAXV,GAAmBA,GAAU3B,KAAKuC,MACpC,OAAOlD,EAETkC,KAAKiB,OAAOjB,KAAKC,OAAOhD,IACxB,MAAOiE,GACP,OAAOP,EAGX,OAAOA,EAOTM,OAAOhE,GACL+C,KAAKH,QAAQsB,WAAWnB,KAAKC,OAAOhD,IAOtCmE,QACEpB,KAAKH,QAAQuB,QAWfC,UAAUC,EAAcxD,EAAYsC,EAAwBC,QAC1DkB,SAASC,OAAS,GAAGxB,KAAKC,OAAOqB,MAASxD,cAAkBsC,IAO9DqB,UAAUH,GACR,MAAMI,EAAYH,SAASC,OAAOG,MAAM,MACxC,IAAK,IAAIxC,EAAI,EAAGX,EAASkD,EAAUlD,OAAQW,EAAIX,EAAQW,IAAK,CAC1D,MAAMyC,EAAKF,EAAUvC,GAAGwC,MAAM,KAC9B,GAAIC,EAAG,KAAO5B,KAAKC,OAAOqB,GACxB,OAAOM,EAAG,GAGd,MAAO,GAOTC,aAAa5E,GACX+C,KAAKqB,UAAUpE,EAAK,GAAI,GAM1B6E,cACE,MAAMC,EAAOR,SAASC,OAAOQ,MAAM,iBACnC,GAAID,EACF,IAAK,IAAI5C,EAAI4C,EAAKvD,OAAQW,KACxBoC,SAASC,OAASO,EAAK5C,GAAK,aAAe,IAAIV,KAAK,GAAGwD,eAWxD,MAAMpC,EAAU,IAAID,EAAQsC,cC1GtBC,EAAUjF,GAAcC,OAAOM,UAAUc,SAASZ,KAAKT,GAAGkF,MAAM,GAAI,GAAGC,cCfvEC,EAAO,KAClB,MAAMjD,EAAW,GACXkD,EAAY,mBAClB,IAAK,IAAIpD,EAAI,EAAGA,EAAI,GAAIA,IACtBE,EAAEF,GAAKoD,EAAUC,OAAOC,KAAKC,MAAsB,GAAhBD,KAAKE,UAAkB,GAK5D,OAHAtD,EAAE,IAAM,IACRA,EAAE,IAAMkD,EAAUC,OAAgB,EAARnD,EAAE,IAAa,EAAK,GAC9CA,EAAE,GAAKA,EAAE,IAAMA,EAAE,IAAMA,EAAE,IAAM,IACxBA,EAAEuD,KAAK,KAMHC,EAAO,IACX,uCAAuCpD,QAAQ,SAAUqD,IAC9D,MAAMC,EAAqB,GAAhBN,KAAKE,SAAiB,EAEjC,OADW,KAALG,EAAWC,EAAS,EAAJA,EAAW,GACxBxE,SAAS,OChBTyE,EAAW,KACtB,MAAMC,EAAOC,WAAWC,WAAWnB,MACjC,mJAEF,QAASiB,GAQEG,EAAYC,GACJ,iBAARA,EACFA,EAAMA,GAAQ,EACG,iBAARA,GAAmC,KAAfA,EAAIC,SACjCC,OAAOC,SAAWD,OAAOC,UAAUH,GAAOG,UAAUH,I","sources":["webpack://utils/webpack/universalModuleDefinition","webpack://utils/webpack/bootstrap","webpack://utils/webpack/runtime/define property getters","webpack://utils/webpack/runtime/hasOwnProperty shorthand","webpack://utils/webpack/runtime/make namespace object","webpack://utils/./lib/date.ts","webpack://utils/./lib/storage.ts","webpack://utils/./lib/typeof.ts","webpack://utils/./lib/uuid.ts","webpack://utils/./lib/validate.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"utils\"] = factory();\n\telse\n\t\troot[\"utils\"] = factory();\n})(self, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*\n * @Descripttion: 日期时间\n * @Version: v0.1\n * @Author: pengfei.xiu\n * @Date: 2022-01-02 13:59:37\n * @LastEditors: pengfei.xiu\n * @LastEditTime: 2022-01-02 13:59:39\n */\n\n/**\n * @param {object | string | number} time\n * @param {string} cFormat\n * @return {string}\n * @description 格式化日期\n */\n\nexport const parseTime = (time?: object | string | number, cFormat?: string): string | null => {\n  if (time === undefined) {\n    return null;\n  }\n  const format = cFormat || '{y}-{m}-{d} {h}:{i}:{s}';\n  let date: Date;\n  if (typeof time === 'object') {\n    date = time as Date;\n  } else {\n    if (typeof time === 'string' && /^[0-9]+$/.test(time)) {\n      time = parseInt(time);\n    }\n    if (typeof time === 'number' && time.toString().length === 10) {\n      time = time * 1000;\n    }\n    date = new Date(time);\n  }\n  const formatObj: { [key: string]: number } = {\n    y: date.getFullYear(),\n    m: date.getMonth() + 1,\n    d: date.getDate(),\n    h: date.getHours(),\n    i: date.getMinutes(),\n    s: date.getSeconds(),\n    a: date.getDay(),\n  };\n  const timeStr = format.replace(/{([ymdhisa])+}/g, (result, key) => {\n    const value = formatObj[key];\n    // Note: getDay() returns 0 on Sunday\n    if (key === 'a') {\n      return ['日', '一', '二', '三', '四', '五', '六'][value];\n    }\n    return value.toString().padStart(2, '0');\n  });\n  return timeStr;\n};\n","/*\n * @Descripttion: 本地存储\n * @Version: v0.1\n * @Author: pengfei.xiu\n * @Date: 2021-12-20 11:56:51\n * @LastEditors: pengfei.xiu\n * @LastEditTime: 2022-01-02 15:03:13\n */\n\n// 默认缓存期限为7天\nconst DEFAULT_CACHE_TIME = 60 * 60 * 24 * 7;\n\nexport class Storage {\n  private storage: globalThis.Storage;\n  private prefixKey?: string;\n  constructor(storage: globalThis.Storage, prefixKey: string = '') {\n    this.storage = storage;\n    this.prefixKey = prefixKey;\n  }\n\n  private getKey(key: string) {\n    return `${this.prefixKey}${key}`.toUpperCase();\n  }\n\n  /**\n   * @description 设置缓存\n   * @param {string} key 缓存键\n   * @param {*} value 缓存值\n   * @param expire\n   */\n  set(key: string, value: any, expire: number | null = DEFAULT_CACHE_TIME) {\n    const stringData = JSON.stringify({\n      value,\n      expire: expire !== null ? new Date().getTime() + expire * 1000 : null,\n    });\n    this.storage.setItem(this.getKey(key), stringData);\n  }\n\n  /**\n   * 读取缓存\n   * @param {string} key 缓存键\n   * @param {*=} def 默认值\n   */\n  get(key: string, def: any = null) {\n    const item = this.storage.getItem(this.getKey(key));\n    if (item) {\n      try {\n        const data = JSON.parse(item);\n        const { value, expire } = data;\n        // 在有效期内直接返回\n        if (expire === null || expire >= Date.now()) {\n          return value;\n        }\n        this.remove(this.getKey(key));\n      } catch (e) {\n        return def;\n      }\n    }\n    return def;\n  }\n\n  /**\n   * 从缓存删除某项\n   * @param {string} key\n   */\n  remove(key: string) {\n    this.storage.removeItem(this.getKey(key));\n  }\n\n  /**\n   * 清空所有缓存\n   * @memberOf Cache\n   */\n  clear(): void {\n    this.storage.clear();\n  }\n\n  /**\n   * 设置cookie\n   * @param {string} name cookie 名称\n   * @param {*} value cookie 值\n   * @param {number=} expire 过期时间\n   * 如果过期时间为设置，默认关闭浏览器自动删除\n   * @example\n   */\n  setCookie(name: string, value: any, expire: number | null = DEFAULT_CACHE_TIME) {\n    document.cookie = `${this.getKey(name)}=${value}; Max-Age=${expire}`;\n  }\n\n  /**\n   * 根据名字获取cookie值\n   * @param name\n   */\n  getCookie(name: string): string {\n    const cookieArr = document.cookie.split('; ');\n    for (let i = 0, length = cookieArr.length; i < length; i++) {\n      const kv = cookieArr[i].split('=');\n      if (kv[0] === this.getKey(name)) {\n        return kv[1];\n      }\n    }\n    return '';\n  }\n\n  /**\n   * 根据名字删除指定的cookie\n   * @param {string} key\n   */\n  removeCookie(key: string) {\n    this.setCookie(key, 1, -1);\n  }\n\n  /**\n   * 清空cookie，使所有cookie失效\n   */\n  clearCookie(): void {\n    const keys = document.cookie.match(/[^ =;]+(?==)/g);\n    if (keys) {\n      for (let i = keys.length; i--; ) {\n        document.cookie = keys[i] + '=0;expire=' + new Date(0).toUTCString();\n      }\n    }\n  }\n}\n\n/**\n * 创建本地缓存对象\n * @param {string=} prefixKey -\n * @param {Object} [storage=localStorage] - sessionStorage | localStorage\n */\nexport const storage = new Storage(localStorage);\n","/*\n * @Descripttion: 判断数据类型\n * @Version: v0.1\n * @Author: pengfei.xiu\n * @Date: 2022-01-02 12:41:15\n * @LastEditors: pengfei.xiu\n * @LastEditTime: 2022-01-02 13:11:46\n */\ntype T =\n  | 'boolean'\n  | 'number'\n  | 'string'\n  | 'function'\n  | 'array'\n  | 'date'\n  | 'regexp'\n  | 'undefined'\n  | 'null'\n  | 'object'\n  | 'blob'\n  | 'error'\n  | 'promise'\n  | 'symbol'\n  | 'global';\nexport const typeOf = (o: any): T => Object.prototype.toString.call(o).slice(8, -1).toLowerCase() as T;\n","/*\n * @Descripttion: 生成UUID\n * @Version: v0.1\n * @Author: pengfei.xiu\n * @Date: 2022-01-02 13:40:41\n * @LastEditors: pengfei.xiu\n * @LastEditTime: 2022-01-02 13:50:04\n */\n\nexport const uuid = () => {\n  const s: any[] = [];\n  const hexDigits = '0123456789abcdef';\n  for (let i = 0; i < 36; i++) {\n    s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n  }\n  s[14] = '4'; // bits 12-15 of the time_hi_and_version field to 0010\n  s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1); // bits 6-7 of the clock_seq_hi_and_reserved to 01\n  s[8] = s[13] = s[18] = s[23] = '-';\n  return s.join('');\n};\n\n/**\n * @description guid\n */\nexport const guid = () => {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = (Math.random() * 16) | 0,\n      v = c == 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n};\n","/*\n * @Descripttion: 验证函数\n * @Version: v0.1\n * @Author: pengfei.xiu\n * @Date: 2022-01-02 14:12:50\n * @LastEditors: pengfei.xiu\n * @LastEditTime: 2022-01-02 14:19:28\n */\n/**\n * @description 当前环境是否是移动端\n * @returns boolean\n */\nexport const isMobile = () => {\n  const flag = navigator?.userAgent?.match(\n    /(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i,\n  );\n  return !!flag;\n};\n\n/**\n * @description 是否是数字(字符串数字也为true)\n * @param num\n * @returns boolean\n */\nexport const isNumber = (num: any) => {\n  if (typeof num === 'number') {\n    return num - num === 0;\n  } else if (typeof num === 'string' && num.trim() !== '') {\n    return Number.isFinite ? Number.isFinite(+num) : isFinite(+num);\n  }\n  return false;\n};\n"],"names":["root","factory","exports","module","define","amd","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","parseTime","time","cFormat","undefined","format","date","test","parseInt","toString","length","Date","formatObj","y","getFullYear","m","getMonth","d","getDate","h","getHours","i","getMinutes","s","getSeconds","a","getDay","replace","result","padStart","Storage","storage","prefixKey","constructor","this","getKey","toUpperCase","set","expire","DEFAULT_CACHE_TIME","stringData","JSON","stringify","getTime","setItem","def","item","getItem","data","parse","now","remove","e","removeItem","clear","setCookie","name","document","cookie","getCookie","cookieArr","split","kv","removeCookie","clearCookie","keys","match","toUTCString","localStorage","typeOf","slice","toLowerCase","uuid","hexDigits","substr","Math","floor","random","join","guid","c","r","isMobile","flag","navigator","userAgent","isNumber","num","trim","Number","isFinite"],"sourceRoot":""}